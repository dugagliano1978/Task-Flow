<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>DEBUG EXTREMO - TaskFlow</title>
    <style>
        body {
            font-family: monospace;
            background: #1a1a1a;
            color: #0f0;
            padding: 20px;
        }
        .task {
            background: #000;
            border: 1px solid #0f0;
            padding: 10px;
            margin: 10px 0;
        }
        .highlight {
            background: yellow;
            color: black;
            padding: 2px 5px;
        }
        h1 { color: #0ff; }
        h2 { color: #f0f; }
        .stats { 
            background: #333; 
            padding: 15px; 
            margin: 20px 0;
            border: 2px solid #0f0;
        }
    </style>
</head>
<body>
    <h1>üîç DEBUG EXTREMO - TASKFLOW</h1>
    <p>Esta p√°gina vai mostrar TUDO sobre suas tarefas!</p>
    
    <div id="output"></div>
    
    <script>
        // Carregar dados
        const tasks = JSON.parse(localStorage.getItem('kanban-tasks') || '[]');
        const swimlanes = JSON.parse(localStorage.getItem('kanban-swimlanes') || '[]');
        
        let html = '<div class="stats">';
        html += `<h2>üìä TOTAL: ${tasks.length} tarefas, ${swimlanes.length} raias</h2>`;
        html += '</div>';
        
        // Mapear todos os status √∫nicos
        const statusMap = {};
        tasks.forEach(t => {
            const s = t.status || 'null';
            if (!statusMap[s]) statusMap[s] = 0;
            statusMap[s]++;
        });
        
        html += '<div class="stats">';
        html += '<h2>üéØ STATUS √öNICOS ENCONTRADOS:</h2>';
        Object.keys(statusMap).sort().forEach(status => {
            html += `<div>üìå "<span class="highlight">${status}</span>" ‚Üí ${statusMap[status]} tarefas</div>`;
        });
        html += '</div>';
        
        // Mostrar TODAS as tarefas com detalhes
        html += '<h2>üìã TODAS AS TAREFAS (DETALHADO):</h2>';
        
        tasks.forEach((task, i) => {
            html += '<div class="task">';
            html += `<strong>[${i+1}] ${task.title}</strong><br>`;
            html += `ID: ${task.id}<br>`;
            html += `Status: <span class="highlight">${task.status || 'null'}</span><br>`;
            html += `Swimlane: ${task.swimlane || 'null'}<br>`;
            html += `Priority: ${task.priority || 'null'}<br>`;
            html += `EndDate: ${task.endDate || 'null'}<br>`;
            
            // An√°lise
            const s = (task.status || '').toLowerCase();
            html += '<br><strong>AN√ÅLISE:</strong><br>';
            html += `includes("done"): ${s.includes('done')}<br>`;
            html += `includes("doing"): ${s.includes('doing')}<br>`;
            html += `includes("todo"): ${s.includes('todo')}<br>`;
            html += `includes("progr"): ${s.includes('progr')}<br>`;
            html += `includes("fazer"): ${s.includes('fazer')}<br>`;
            
            html += '</div>';
        });
        
        document.getElementById('output').innerHTML = html;
        
        // Console tamb√©m
        console.log('='.repeat(80));
        console.log('üîç DEBUG EXTREMO - TASKFLOW');
        console.log('='.repeat(80));
        console.log('STATUS √öNICOS:');
        Object.keys(statusMap).forEach(status => {
            console.log(`  "${status}" ‚Üí ${statusMap[status]} tarefas`);
        });
        console.log('='.repeat(80));
    </script>
</body>
</html>
